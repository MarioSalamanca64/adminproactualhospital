{"ast":null,"code":"import _asyncToGenerator from \"C:\\\\wamp64\\\\www\\\\curso-hospitalrecords\\\\admin-pro-nueva-version\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport { environment } from 'src/environments/environment';\nimport * as i0 from \"@angular/core\";\nconst base_url = environment.base_url;\nexport class FileUploadService {\n  constructor() {}\n  //forma en javascript\n  actualizarFoto(archivo, tipo, id) {\n    return _asyncToGenerator(function* () {\n      try {\n        const url = `${base_url}/uploads/${tipo}/${id}`;\n        const formData = new FormData();\n        //append manda el archivo \n        formData.append('imagen', archivo);\n        const resp = yield fetch(url, {\n          method: 'PUT',\n          headers: {\n            'x-token': localStorage.getItem('token') || ''\n          },\n          body: formData\n        });\n        const data = yield resp.json();\n        //si tiene el nombre del archivo regrese true\n        if (data.ok) {\n          return data.nombreArchivo;\n        } else {\n          console.log(data.msg);\n          return false;\n        }\n      } catch (error) {\n        console.log(error);\n        return false;\n      }\n    })();\n  }\n}\nFileUploadService.ɵfac = function FileUploadService_Factory(t) {\n  return new (t || FileUploadService)();\n};\nFileUploadService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: FileUploadService,\n  factory: FileUploadService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"names":["environment","i0","base_url","FileUploadService","constructor","actualizarFoto","archivo","tipo","id","_asyncToGenerator","url","formData","FormData","append","resp","fetch","method","headers","localStorage","getItem","body","data","json","ok","nombreArchivo","console","log","msg","error","ɵfac","FileUploadService_Factory","t","ɵprov","ɵɵdefineInjectable","token","factory","providedIn"],"sources":["C:/wamp64/www/curso-hospitalrecords/admin-pro-nueva-version/src/app/services/file-upload.service.ts"],"sourcesContent":["import { environment } from 'src/environments/environment';\r\nimport * as i0 from \"@angular/core\";\r\nconst base_url = environment.base_url;\r\nexport class FileUploadService {\r\n    constructor() { }\r\n    //forma en javascript\r\n    async actualizarFoto(archivo, tipo, id) {\r\n        try {\r\n            const url = `${base_url}/uploads/${tipo}/${id}`;\r\n            const formData = new FormData();\r\n            //append manda el archivo \r\n            formData.append('imagen', archivo);\r\n            const resp = await fetch(url, {\r\n                method: 'PUT',\r\n                headers: {\r\n                    'x-token': localStorage.getItem('token') || ''\r\n                },\r\n                body: formData\r\n            });\r\n            const data = await resp.json();\r\n            //si tiene el nombre del archivo regrese true\r\n            if (data.ok) {\r\n                return data.nombreArchivo;\r\n            }\r\n            else {\r\n                console.log(data.msg);\r\n                return false;\r\n            }\r\n        }\r\n        catch (error) {\r\n            console.log(error);\r\n            return false;\r\n        }\r\n    }\r\n}\r\nFileUploadService.ɵfac = function FileUploadService_Factory(t) { return new (t || FileUploadService)(); };\r\nFileUploadService.ɵprov = /*@__PURE__*/ i0.ɵɵdefineInjectable({ token: FileUploadService, factory: FileUploadService.ɵfac, providedIn: 'root' });\r\n"],"mappings":";AAAA,SAASA,WAAW,QAAQ,8BAA8B;AAC1D,OAAO,KAAKC,EAAE,MAAM,eAAe;AACnC,MAAMC,QAAQ,GAAGF,WAAW,CAACE,QAAQ;AACrC,OAAO,MAAMC,iBAAiB,CAAC;EAC3BC,WAAWA,CAAA,EAAG,CAAE;EAChB;EACMC,cAAcA,CAACC,OAAO,EAAEC,IAAI,EAAEC,EAAE,EAAE;IAAA,OAAAC,iBAAA;MACpC,IAAI;QACA,MAAMC,GAAG,GAAI,GAAER,QAAS,YAAWK,IAAK,IAAGC,EAAG,EAAC;QAC/C,MAAMG,QAAQ,GAAG,IAAIC,QAAQ,EAAE;QAC/B;QACAD,QAAQ,CAACE,MAAM,CAAC,QAAQ,EAAEP,OAAO,CAAC;QAClC,MAAMQ,IAAI,SAASC,KAAK,CAACL,GAAG,EAAE;UAC1BM,MAAM,EAAE,KAAK;UACbC,OAAO,EAAE;YACL,SAAS,EAAEC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,IAAI;UAChD,CAAC;UACDC,IAAI,EAAET;QACV,CAAC,CAAC;QACF,MAAMU,IAAI,SAASP,IAAI,CAACQ,IAAI,EAAE;QAC9B;QACA,IAAID,IAAI,CAACE,EAAE,EAAE;UACT,OAAOF,IAAI,CAACG,aAAa;QAC7B,CAAC,MACI;UACDC,OAAO,CAACC,GAAG,CAACL,IAAI,CAACM,GAAG,CAAC;UACrB,OAAO,KAAK;QAChB;MACJ,CAAC,CACD,OAAOC,KAAK,EAAE;QACVH,OAAO,CAACC,GAAG,CAACE,KAAK,CAAC;QAClB,OAAO,KAAK;MAChB;IAAC;EACL;AACJ;AACAzB,iBAAiB,CAAC0B,IAAI,GAAG,SAASC,yBAAyBA,CAACC,CAAC,EAAE;EAAE,OAAO,KAAKA,CAAC,IAAI5B,iBAAiB,GAAG;AAAE,CAAC;AACzGA,iBAAiB,CAAC6B,KAAK,GAAG,aAAc/B,EAAE,CAACgC,kBAAkB,CAAC;EAAEC,KAAK,EAAE/B,iBAAiB;EAAEgC,OAAO,EAAEhC,iBAAiB,CAAC0B,IAAI;EAAEO,UAAU,EAAE;AAAO,CAAC,CAAC"},"metadata":{},"sourceType":"module"}